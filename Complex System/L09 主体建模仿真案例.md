### 主体建模仿真方法研究案例（第2-16页）

**案例1：新加坡竞争性垃圾系统建模**

1. **背景介绍**
   - 新加坡政府引入私人投资参与垃圾处理和回收，遭遇重大挫折。
   - 2008年进入垃圾处理系统的项目获得Energy Globe大奖，后因长期低负荷运行和巨额亏损于2011年退出。
   - 研究问题：如何管理一个引入私人资本导致内部竞争的垃圾处理系统，使其在效率提升的同时保持可持续发展。

2. **系统主体和运作机制**
   - STU（specialized treatment unit）：私人资本的垃圾处理设施，更环保、高效。
   - GTU（general treatment unit）：公共处理设施，如焚烧厂，低效但有话语权。
   - 垃圾回收者：参与垃圾收集和处理。

3. **文献回顾**
   - 文献中一般采用博弈论研究不同参与者的决策及系统均衡状态，但在参与者种类较多、存在非线性元素的情况下，难以刻画异质性和证明系统均衡的存在或计算均衡。
   - 基于主体的建模方法（ABM）已在多种竞争性系统研究中得到应用，但在垃圾系统建模方面仍是空白。

4. **政策考虑**
   - 管理者考虑的四种政策：对STU数量的限制、对垃圾分配的调整、对GTU服务费的上限要求、强制GTU提供服务费折扣给STU。

5. **具体研究问题**
   - 这四个政策的利弊以及对整个系统的影响？STU和GTU如何应对这些政策？最佳的组合政策是什么？

6. **假设的主要内容**
   - 垃圾可被STU和GTU处理，GTU可处理STU的残渣。
   - 有m个独立的STU，目标是通过设置服务费最大化自己的利润。
   - STU因垃圾处理技术等因素的不同视为异质主体。
   - 只有一个规模很大的GTU，可能处于垄断地位，监管者会限制其最高服务费。

7. **模型边界和主体**
   - 确定模型边界和主体，包括STU、GTU和垃圾回收者。

8. **变量表**
   - 列出Agent名称、变量、变量类型、释义、单位、首次出现的公式。

9. **STU & GTU模型的求解**
   - 采用estimation-and-optimization(ESTOPT)方法模拟Agent的决策，因为模型中有许多变量是未知的，并取决于其他agent的决策。

10. **ESTOPT方法**
    - Agent的决策分为随机、寻优两种模式，选择随机的概率逐渐降低。
    - Agent的行为由一个OR模型刻画，未知参数通过不断尝试获得的历史信息进行估计。

11. **编程实现**
    - 采用Python实现，多个电脑并行计算仿真结果，通过数据库管理模型输入和输出。

12. **模型的输出指标**
    - 包括STU的平均报价、GTU的报价、所有STU的利润、GTU的利润、所有STU和GTU的平均回归误差、所有STU获得的垃圾、GTU获得的垃圾、政府支付给STU、GTU的总费用、STU的禀赋和利润线性关系的拟合优度。

13. **模型验证**
    - 部分数据来自真实数据，符合企业实际。
    - 设计Scenario S1，通过提高STU数量验证竞争行为对市场的影响是否符合经济学原理。
    - 对利润等指标的分析发现和之前做的博弈论研究结论一致。

14. **政策模拟结果**
    - S1：STU个数增长时，各主体成为Price-taker，利润降低，STU获得更多市场份额，单位成本更低且产生更少残渣的STU能获得更多利润。
    - S2：STU得到政府支持时，如果政府过分偏袒STU，GTU将放弃竞争，转而提高对STU的收费以维持利润。
    - G1：GTU的最高限价提高时，限价提高并不一定会对GTU的定价产生影响。
    - G2：GTU给STU的折扣率接近1时，STU降低成本的影响不够显著，GTU是主要受益者，政府将付出更多成本用于处理垃圾。

15. **将ABM整合到遗传算法中**
    - 计算最佳混合政策，最大化STU的最低利润，考虑政府总支出约束、垃圾分配比例约束、GTU最低利润约束，以及五个政策变量的约束。

### 案例2：中关村外卖市场中餐馆的运营管理（第17-37页）

**背景与动机**

1. **在线订餐与外卖**
   - 在数字经济中非常成功的商业模式之一。

2. **关键因素识别**
   - 根据2015年和2016年中国的大规模调查，顾客主要关注两个因素：等待时间和食品质量。

3. **代理、交互和趋势**
   - 等待时间：食品准备时间和送餐时间（与地点距离和应用平台的送餐政策有关）。
   - 食品质量：顾客对高质量食品的偏好增加。
   - 成本节约：顾客对成本节约的偏好增加。

**研究问题**

1. **RQ1**
   - 顾客对高食品质量的偏好增加、餐馆缩短食品准备时间和在线平台的不同送餐政策对食品质量和位置运营的影响。

2. **RQ2**
   - 最佳餐馆与其他餐馆在食品质量和位置决策上的差异。

**假设**

1. **假设1**
   - 顾客和餐馆被视为离散点，并根据其极坐标放置在二维平面上。

2. **假设2**
   - 餐馆的食品准备时间与其质量呈正比和线性关系。

3. **假设3**
   - 排除其他餐饮选择，如在餐馆就餐或外卖自取。

4. **假设4**
   - 不考虑提供送餐服务的餐馆。

5. **假设5**
   - 当顾客提交关于食品质量和等待时间的反馈时，提交的食品质量等于当前由餐馆确定的食品质量。

**代理类型和模型结构**

1. **顾客**
   - 根据多项逻辑需求模型，更可能选择提供更高效用的餐馆。

2. **平台**
   - 解决复杂的VRPPDTW-D问题（动态车辆路径问题，包含取货/送餐和时间窗口）。
   - 使用插入启发式算法来解决VRPPDTW-D。

3. **餐馆**
   - 决定食品质量和位置以最大化接收的订单数量。
   - 使用ESTOPT方法来帮助餐馆做出联合决策。

**模型验证**

1. **基于真实数据的模拟**
   - 根据饿了么的真实数据，模拟北京的CBD。
   - 模拟结果接近真实数据。

**模型指标**

1. **观察的模型指标**
   - 验证结果表格可在论文中找到。

**政策模拟结果**

1. **情景A：更高的食品质量偏好**
   - 所有餐馆提高食品质量；位置决策未受影响。
   - 最佳餐馆更显著地改变。

2. **情景B：更长的食品准备时间**
   - 两个决策都受到较小影响，因为顾客承担时间成本。
   - 最佳餐馆具有更高的食品质量和更接近CBD中心。

3. **情景C：平台倾向于节省更多成本**
   - 位置决策比食品质量决策变化更大。
   - 最佳餐馆具有更高的食品质量和更接近CBD中心。

**结论**

1. **在数字经济中寻找ABM研究机会**
   - 确定新商业模式中代理的交互。

2. **专注于研究问题**
   - 许多元素（如定价）在此研究中被省略。

3. **超越过度简化的决策规则**
   - 使用OR模型和算法，考虑更合理的决策过程。
   - 可以使用ESTOPT等学习方法。
