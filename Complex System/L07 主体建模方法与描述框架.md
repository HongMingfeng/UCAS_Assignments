### Agent的定义（第3-9页）

**Agent的基本概念**

1. **Agent的定义**
   - Agent是一个没有统一定义的术语，但通常被理解为具有以下特点的实体：
     - 具有信念、能力、选择、承诺等精神状态（Shoham, 1993）。
     - 具有控制问题求解机理的计算单元（Lane, 1994）。
     - 不断感知环境并作用于环境，以完成其计划的一类系统（Franklin, 1996）。
     - 封装在一些环境中的计算机系统，为了达到设计好的目标从而执行灵活自主的行为（Wooldridge, 1997）。
     - 计算机模拟中具有属性、状态和行为的独立自主元素（Wilensky and Rand, 2015）。
     - 实际表现为一段代表现实世界行为者的计算机程序。

2. **Agent的国内翻译**
   - 国内常将Agent翻译为自治体、智能体、主体，其中“主体”用得更多一些。

3. **Agent的特性**
   - **弱定义**：
     - 自主性（Autonomy）：可自主运作，能够控制其行为和内部状态。
     - 反应性（Reactivity）：能感知环境并作出反应。
     - 主动性（Pro-activeness）：对环境的反应为目标驱动的主动行为。
     - 社会性（Socialability）：可与其他Agent通信和交互。
   - **强定义**：
     - 具有知识和信念。
     - 具有意图与义务。
     - 具有诚实和理性。
   - 强定义一般只代表人类个体或社会行为，有较强的自我管理意识。

**Agent的结构**

1. **Agent的内部结构**
   - **属性（Attribute）**：
     - 内生变量：可被行为改变数值的属性，例如商家的销量、投资者的资产收益。
     - 外生变量：不能被行为改变数值的属性，例如商家的初始资源、投资者的初始资产、预定的目标值。
     - 按同类主体数值是否相同可分为同质属性和异质属性。
   - **决策行为（Behavior）**：
     - 行为直接改变内生变量的值或达到预定的目标。

2. **Agent的经典模型案例**
   - **Game of life**：
     - 属性包括内生变量（是否活着、周围活着的邻居数）和外生变量（初始状态）。
     - 行为包括计算“周围活着的邻居数”和更新“是否活着”。
   - **Segregation**：
     - 属性包括内生变量（是否快乐、周围的邻居数、同类邻居数、位置）和外生变量（初始位置、种族、相似度阅值）。
     - 行为包括计算两个邻居数量指标、更新“是否快乐”和位置。
   - **Boids**：
     - 属性包括内生变量（视野内其它鸟的集合、最近的鸟、飞行方向、飞行位置）和外生变量（初始位置、视野范围、速度）。
     - 行为包括更新视野内的鸟、根据三条规则决定飞行方向和位置。

**Agent的行为建模**

1. **行为建模的分类**
   - 主要有四类：反应式行为、推理行为、优化行为、学习行为。

2. **反应式行为的建模**
   - 代表模型：If-then-else的规则模型、基于概率的规则。
   - 适用模型：早期的模型，或者规模庞大的ABM。
   - 实际应用：疾病或信息的传播、供应链网络的演化研究。

3. **推理行为的建模**
   - 代表模型：BDI模型（Bratman, 1987）。
   - 适用模型：和人相关的ABM。
   - BDI框架包括信念（Beliefs）、愿望（Desires/Goals）、意图（Intentions）。
   - 实际应用：应急管理、交通管制、游戏设计。

4. **案例：麻将游戏Agent的BDI模型（徐玉朋，2017）**
   - 信念：客观资源（已和牌序列、活动牌序列、弃牌序列等）和个性特征（激进度、冷静度、可控度等）。
   - 愿望：手牌花色小于3种、听普通和牌、听清一色、听对对胡等。
   - 意图：对当前手牌的价值进行量化，考虑手牌重新排列组合的可能性。
   - 动作：出牌、碰牌、明杠、暗杠、和牌等。

### Agent的行为建模（第10-27页）

**推理行为的建模**

1. **其他模型和理论**
   - **行为计划理论**（Theory of planned behavior, Ajzen 1988, 1991）
     - 行为态度：个体对于采取某项特定行为的正面或负面的感觉。
     - 规范信念：感受到的社会压力，即社会对个体行为的期望。
     - 知觉行为控制：个体对于行为执行的控制感。
   - **规范激活理论**（Norm activation theory, Schwartz, 1977）
     - 解释利他行为，如节能、共享单车停放等。
     - 结果意识、责任归属、个体规范和采取行为的关系。
   - **保护动机理论**（Protection motivation theory, Rogers, 1975）
     - 解释行为改变，如保护健康、校园霸凌等。
     - 威胁评估、保护动机、应对评估和自我效能的概念。

2. **优化行为的建模**
   - 代表模型：NK模型、运筹学模型、启发式算法。
   - 适用模型：主体的资源有限从而进行理性决策。
   - 理性决策体现在主体的目标明确，即在有限资源的情况下寻求最优的决策。

3. **NK模型**
   - 由Kauffman（1993）提出，用于研究细胞组织、蛋白质等生物有机体演化。
   - N表示系统由N个不同维度构成，每个维度有D个可能取值，构成D^N种决策可能性。
   - K<=N表示每个维度受其余K个与之相关联的维度影响。
   - K的增加导致系统复杂度增加，产生更多的局部最优。

4. **运筹学模型**
   - 带约束的运筹学模型，如线性规划、整数规划、随机优化等。
   - 可以结合地理信息进行最短路径问题和选址问题的优化。

5. **学习行为的建模**
   - 代表模型：神经网络、强化学习。
   - 适用模型：高维、高度不确定性的情况。

**Agent的交互结构**

1. **输入与输出**
   - 输入（Input）：Agent可获取的外部环境信息。
   - 输出（Output）：Agent作用于外部环境的属性。
   - 其他Agent也可视为环境的一部分，但环境的内涵更丰富。

2. **与其它Agent的交互**
   - 常见关系：交易、竞争、合作、隶属。
   - 拓扑结构：复杂网络，如随机网络、小世界网络、无尺度网络。

3. **ABM的交互类型**
   - 以WolfSheep StrideInheritance为例，包括Agent自身的交互、Agent与Agent的交互、Agent和环境的交互、环境自身的交互。

4. **ABM的交互顺序**
   - ABM模型顺序：初始化（setup）、循环（go）、终止。
   - Agent行为的顺序：异步（Asynchronous）和同步（Synchronous）。
   - Agent多个动作的执行：相继（Sequential）和并行（Parallel）。

**ABM的环境类型**

1. **空间环境**
   - 离散空间：晶格状（Lattice），如方形、六边形。
   - 连续空间：如Boids模型里，鸟的位置变化是连续的。
   - 边界设置：环形、受限型、无限型。

2. **网络环境**
   - 基于现实数据产生的网络，如随机网络、小世界网络、无尺度网络。

3. **3D环境**
   - NetLogo的3D功能较为完善，可打开Flocking（即Boids）模型。

4. **GIS**
   - 结合GIS建立的ABM模型非常多，NetLogo提供了GIS的例子。

### Agent的交互结构与ABM模型行为顺序（第28-33页）

**Agent的交互结构**

1. **Agent与环境的交互**
   - 输入（Input）：Agent从环境中获取的信息。
   - 输出（Output）：Agent对环境的作用或行为的结果。
   - 目标（Goal）：Agent试图实现的目标。
   - 通信（Communication）：Agent之间或与环境之间的信息交换。
   - 行动（Action）：Agent基于感知和决策执行的具体动作。
   - 感知（Perception）：Agent对环境的观察和信息收集。

2. **Agent之间的交互**
   - 交易：Agent之间基于价值交换的互动。
   - 竞争：Agent之间为争夺有限资源或目标的竞争关系。
   - 合作：Agent之间为了共同目标或利益的协作关系。
   - 隶属：一种从属关系，其中一个Agent受另一个Agent的控制或指导。

**ABM的交互顺序**

1. **ABM模型和Agent行为的顺序**
   - **初始化（Setup）**：设置模型的初始状态，包括环境、Agent的属性和位置等。
   - **循环（Go）**：模型运行的主体部分，每个Agent根据规则进行迭代行为。
   - **终止**：确定模型运行结束的条件，如达到特定时间步或系统状态稳定。

2. **Agent行为的顺序**
   - **异步（Asynchronous）**：Agent行为不同步执行，每个Agent根据自己时间线独立行动。
   - **同步（Synchronous）**：所有Agent在同一时间步同时执行行为。
   - **相继（Sequential）**：Agent的行为按特定顺序逐步执行。
   - **并行（Parallel）**：多个Agent的行为同时执行，不考虑时间差异。

3. **Agent多个动作的执行**
   - 在一个时间步内，Agent可能需要执行多个动作，这些动作可以是相继执行，也可以是并行执行，取决于模型的具体设计和Agent的行为逻辑。

### ABM的环境类型（第34-37页）

**空间环境**

1. **离散空间**
   - **晶格状（Lattice）**：空间被划分为规则的网格，Agent可以在这些网格点上移动和互动。
     - **方形**：每个网格点有四个邻居（上、下、左、右）。
     - **六边形**：每个网格点有六个邻居，覆盖面积更均匀，常用于模拟蜂窝结构。
   - **示例**：元胞自动机、六边形兵旗游戏（如三国志11）。

2. **连续空间**
   - Agent可以在连续的空间内任意位置移动，没有固定的网格限制。
     - **Boids模型**：鸟的位置变化是连续的，模拟鸟群的集体行为。
     - **NetLogo**：空间是连续型，但其Patch是网格型，结合了连续和离散的特点。

3. **边界设置**
   - **环形**：边界相连，可以是左右、上下或所有边界相连，如Segregation、Boids模型。
   - **受限型**：边界不相连，Agent到达边界后不能穿越，如迷宫模型。
   - **无限型**：理论上Agent可以在无限空间内任意位置，如随机游走模型。

**网络环境**

1. **基于现实数据的网络**
   - 除了随机网络、小世界网络、无尺度网络，还有基于现实数据产生的网络，这些网络结构可以更准确地模拟现实世界的复杂性。

**3D环境**

1. **NetLogo的3D功能**
   - NetLogo提供了3D模拟功能，可以更直观地展示空间中的Agent行为和交互。
   - 可以打开Flocking（即Boids）模型，体验3D空间中的模拟效果。

**GIS（地理信息系统）**

1. **GIS与ABM的结合**
   - 结合GIS建立的ABM模型非常多，这使得模型可以利用地理数据来增强空间分析和模拟的准确性。
   - **黎夏教授团队**：国内在GIS与ABM结合方面做得较好的团队。
   - NetLogo提供了GIS的例子，可以打开GISGeneral Examples模型进行学习和参考。

### 主体行为的建模参考准则与描述标准框架（第39-52页）

**主体行为的建模参考准则**

1. **分析主体属性，分门别类**
   - 主体的属性是一个集合，包括描述该主体的所有参数和变量。
   - 内生变量：能够被当前主体或模型中其他主体通过某种行为直接或间接改变取值。
   - 外生变量：无法被行为改变的属性。

2. **关注信息感知，引入行为**
   - 站在主体的角度设定其能从哪些主体处收集到哪些信息。
   - 考虑主体可能的信息来源，包括与其他主体的交互和自身掌握的私有信息。

3. **明确行为目的，视为函数**
   - 主体行为的目的是改变内生变量的数值。
   - 主体行为可视为一个函数，输入为所有影响主体行为的信息，输出为自身或其他主体内生属性的变化。

4. **首选运筹模型，体现导优**
   - 在研究复杂管理系统时，优先采用管理科学文献中常用的运筹优化等模型。
   - 典型情景包括决策分析模型、运筹学模型、统计和随机规划模型、鲁棒优化模型、马尔可夫模型等。

**主体行为的描述标准框架**

1. **特点**
   - 基于符号的、表格展示的、编程友好。

2. **符号规范**
   - 加粗大写字母表示矩阵，加粗小写字母表示向量。
   - 未加粗大写字母表示常数，未加粗小写字母表示变量。
   - 大写字母上方加波浪线表示随机变量。
   - 小写字母ii，k等保留为集合的索引，小写字母t保留为仿真时间步的索引。
   - N和n保留为集合的基数。

3. **主体**
   - 环境：表示为E={e1,e2,...}，并保留字母E和e专门指代环境主体集合和环境主体实例。
   - 其他主体：需明确某类主体的实例个数在整个仿真周期是否发生变化。
   - 示例：多报童问题，包括环境、批发商、报童、消费者等主体。

4. **属性**
   - 采用符号和表格描述主体属性。
   - 包括主体实例、符号、标签、数据类型、单位和说明。

5. **感知**
   - 为展示主体两两之间的信息感知情况，需采用类似方阵的形式予以描述。
   - 表格的第一列是环境主体，之后主动主体，最后被动主体。
   - 每个单元格列举所属行主体能够感知到的所属列主体的属性。

6. **行为**
   - 用表格逐一列举各个主体的行为，包括主体、行为名称、感知信息、行为模型、自身属性、其他属性、执行条件和相关公式。

### ABM的构成与建立步骤（第54-60页）

**ABM的构成：三个层面，自底而上**

1. **微观层面：主体**
   - 系统元素：个体Agent，具有独立的认知和行为模式。

2. **中观层面：交互**
   - 系统结构：Agent之间的交互模式，形成宏观行为的基础。

3. **宏观层面：现象**
   - 系统行为：由个体和交互模式产生的群体行为和宏观现象。

**如何建立一个ABM？**

1. **判断ABMS是否适用于所研究的问题**
   - 优先考虑其他方法，不断总结出使用ABMS的必要性和合理性。

2. **勾勒模型边界**
   - 提出重要的假设，界定模型边界、环境。

3. **主体设计（Agent-levelVisA）**
   - 考虑哪些个体抽象为Agent，以及Agent的拓扑结构。
   - 设置Agent的属性、信息集和行为。

4. **将主体行为进行排列，作为一个timestep（Schedule）**
   - 需指定终止条件，如指定步数、接近收敛等。

5. **观测指标（Indicator）**
   - 观测指标的选取需结合研究问题，最好兼顾所有主体。

6. **编程，调试，验证（Validation）**
   - 仿真模型都需要完成VVA（Verification，Validation，Accreditation）。

7. **应用，完善，优化（Application）**
   - 不断完善模型，直至可被接受。

**如何验证ABM？**

1. **ABM的验证难点**
   - 多种主体、多条假设、多个参数、多个函数，对模型的验证是ABMS方法的研究重点和难点。

2. **验证方法**
   - 量纲一致性检验、单位测试、极限条件测试等，确保没有bug。
   - 从三个维度验证ABM：
     - 没有数据：结合已有理论，所有假设需经得起质疑。
     - 有统计数据：提出假设、赋值常数、和模型最后结果进行对比分析。
     - 有大数据：基于大数据的ABM模型验证方法成为可能。

**如何应用ABM？**

1. **灵敏度分析、统计检验**
   - 分析单个或多个参数的影响。
   - 将一些常数的初始值进行改变，观察ABM仿真结果的变化。

2. **实验设计**
   - 可能需要用到实验设计，如正交试验方法、随机拉丁方试验方法、最优拉丁方试验方法。